<!DOCTYPE html>
<html ng-app>
    <head>
        <meta charset="utf-8" />
        <title>9 M.A.D.$</title>
        <script type="text/javascript" src="js/angular.js"></script>
        <style>
            body {
                color: #ffff00;
                background-color: #000000;
                text-align: center;
            }
        </style>
    </head>
    <body >
        <script type="text/javascript">
            function loginFormController($scope, $http, $location) {

                $scope.username = "";
                $scope.password = "";

                $scope.doLogin = function () {
                    $http({
                        method: 'GET',
                        url: '/api/login',
                        params: {
                            username: $scope.username,
                            password: $scope.password
                        }
                    }).success(function (data) {
                        if (data.status == "ok") {
                            location.href = "admin.html";
                            return;
                        }
                        alert("Chyba:" + data.msg);
                    }).error(function () {
                        alert("error");
                    });
                }

            }
        </script>
        <img src="images/splash.jpg" />
        <form ng-submit="doLogin()" ng-controller="loginFormController">
            Username: <input type="text" ng-model="username" autofocus/><br />
            Password: <input type="password" ng-model="password" /><br />
            <input type="submit" name="submit" value="Login" />
        </form>
    </body>
</html>
